<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=0" />
    <meta name="description" content="Stealth level by Liangzheng Luo." />
    <meta name="theme-color" content="#005DAF" />
    <meta name="author" content="Liangzheng Luo" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Stealth Level - Liangzheng Luo</title>
    <link rel="icon" type="image/png" href="/media/icon.png" />
    <link href="/css/level.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <script type="module" src="/js/nav.js"></script>
    <script type="module" src="/js/general.js"></script>
    <div id="nav"></div>
    <div id="back">
      <a onclick="transitionToPage('/games/collection','var(--rurikon)')">➙</a>
    </div>
    <div id="next">
      <a onclick="transitionToPage('combat-zone','var(--koke)')">➙</a>
    </div>

    <div
      class="top"
      style="background-image: url(/media/levels/stealth-level/title.jpg)"
    >
      <div class="top-title">Stealth Level</div>
      <div class="top-introduction">
        This stealth level study marks my first work in Unreal Engine 4. In this
        project I tried to answer three core questions: What a stealth level
        flow should be like? How to use visual elements to guide the player? How
        to design a level with limited interior space?<br /><br />
        <a href="#planning" class="link">Jump to Game Production</a><br />
        <a
          href="https://drive.google.com/drive/folders/1Pu4ibbW7Ms6zl_WeGc8CxX7aI3FLEJAP?usp=sharing"
          target="_blank"
          class="link"
          >Download Runnable Build</a
        >
      </div>
      <div class="top-information">
        <span style="color: var(--ro)">time</span> summer 2020 <br />
        <span style="color: var(--ro)">length</span> 7-9 minutes <br />
        <span style="color: var(--ro)">software</span> Unreal Engine 4, Maya,
        Illustrator
        <br />
        <span style="color: var(--ro)">work</span> individual work
      </div>
    </div>

    <div id="main">
      <div class="main-title">Gameplay Footage</div>
      <div class="main-video">
        <iframe
          name="Stealth Level"
          src="https://www.youtube.com/embed/7pjNObDFCqk"
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope"
          allowfullscreen
        >
        </iframe>
      </div>

      <div class="main-title">Stealth Game Design</div>
      <div class="main-description">
        Stealth games have become a serious game genre since the Metal Gear
        Solid series came out. The (most commonly) third-person perspective
        gameplay, combined with the thrilling feeling of puzzle solving and
        storytelling, fascinates players who want something different from a
        shoot-'em-up. In this section I'll summarize some general points to make
        a stealth level good.
        <br />
      </div>
      <div class="main-design-title">
        <hr />
        element analysis
      </div>
      <div class="main-design-description">
        To me a "game" is consisted of four core elements, and this level I
        built is no exception.
        <br /><span class="element-title">start</span><br />
        Usually the start point in a stealth level is a safe area distant from
        destination. Starting there means that players have sufficient time to
        get prepared, i.e. grabbing some equipments and inspecting the level
        layout for a plan. <br />
        <span style="font-style: italic"
          >To make my level more challenging, I used the method of blocking:
          disallowing players to return to the same place they just left. <br
        /></span>
        <span class="element-title">goal</span><br />
        The goals in a typical stealth game can vary a lot but are mechanically
        the same: to find some fixed targets (treasure, exit, VIP, etc.). Some
        games ask the players to escape once they finish the first goal, and the
        game pace could change a lot in the escape phase, adding excitement and
        new anxiety to the emotion flow.<br />
        <span style="font-style: italic"
          >The goals in my level are "to find something" but feel different as I
          changed the pace and emotion flow through the level construction. <br
        /></span>
        <span class="element-title">rules</span><br />
        The principal rule for stealth games is never to make the playable
        character too strong to a point where they can confront a group of armed
        enemies like CoD. The game is "stealth" when most progress can be done
        without alarming too many enemies. As a compensation, the character can
        be offered some skills or items to help navigate or deal with enemies
        safely. The enemy AI, another important factor in control of the game
        difficulty, needs to be at a reasonable, and acceptable level.<br />
        <span style="font-style: italic"
          >In my level I didn't allow the character to kill people, to make my
          level flow under control and traditional. <br
        /></span>
        <span class="element-title">obstacles</span><br />
        Obstacles can be anything that stand in the way of the process. There
        are a group of enemies with certain patrol routes, trying to find and
        catch the playable character. They outnumber the character, so the
        player won't want to ignite a all-out gunfight. Also for the
        playability, enemies' actions should be predictable for the player side
        to plan out a strategy in advance. On the other hand, players need to
        use the environment for cover, so many blocking volumes should be in the
        level too.
      </div>
      <div class="main-design-title">
        <hr />
        pitfalls
      </div>
      <div class="main-design-description">
        <span class="element-title">god path</span><br />
        A god path is a route by which the playable character has zero chance of
        being caught. A typical god path is formed when all enemies' patrol
        routes don't overlap with each other, or don't cover a bit of the
        necessary player route. This bad design could make the level very boring
        as the players can proceed and win without even trying.<br /><br />
        Another example of god path is the unfair vantage point, where the
        character is allowed to shoot enemies down from distance while they
        cannot fight back. Again, every game need to balance its challenge and
        reward. God path avoids all challenges, thus causing a broken game
        setup.<br />
        <span class="element-title">unpredictable AI</span><br />
        Unpredictable AI means pre-scripted enemies don't follow a fixed path,
        or have sudden turn back, or moves too fast. Unpredictable AI makes the
        game hard in an annoying way as the random events would kill every plan
        and mess up the level. It's the opposite of god path, making the game
        too hard for players.<br />
        <span class="element-title">forced gameplay</span><br />
        Many stealth games allow the character to choose preferred equipments.
        This is nice as the players are granted a variety of ways to beat the
        level. But this could also be a pain when some items are designed very
        specifically for a level or even a point in the level, which the players
        have to use to proceed. It's fine to introduce some mechanics within a
        tutorial level, but designers should provide the opportunity to explore
        new ways rather than to limit the gameplay to one answer.
      </div>
      <div class="main-design-title">
        <hr />
        game references
      </div>
      <div class="main-design-description">
        <span class="element-title">Tom Clancy's Splinter Cell: Blacklist</span
        ><br />
        <div class="element-image-flex">
          <img src="/media/levels/stealth-level/blacklist.jpg" />
          <img src="/media/levels/stealth-level/blacklist2.jpg" />
        </div>
        Tom Clancy's Splinter Cell: Blacklist is the game that I'm mostly
        getting inspired from when doing this project. Among its many levels,
        the Private Estate level serves as a great example of the use of light,
        and visual guiding in a scenario set at night. Also this level
        introduces multiple goals step by step that help push the story.
        <br />
        <span class="element-title">Metal Gear Solid V: The Phantom Pain</span>
        <div class="element-image">
          <img src="/media/levels/stealth-level/mgsv.jpg" />
        </div>
        Metal Gear Solid V: The Phantom Pain is a critically claimed stealth
        title from one of my favorite game directors, Hideo Kojima-san. I
        especially like its day-night system, which adds another layer of fun
        and strategy to the same map. In addition, MGSV also teaches a good
        lesson on the use of light as a visual aid in night scenes, as shown in
        the picture above.
        <br />
        <span class="element-title">Uncharted 4: A Thief's End</span>
        <div class="element-image">
          <img src="/media/levels/stealth-level/uncharted4.jpg" />
        </div>
        Although Uncharted 4: A Thief's End is not a game built around its
        stealth system, some of its levels cleverly added stealth element to
        change the pacing and interest curve. What's more, the way in which it
        told a complete story using levels is a great learning resource. The
        picture above came from "get out of the orphanage" scenario in chapter
        1, where the game showed a fragment of Nathan Drake's childhood as a
        reflection of his forming personality.<br /><br />
        This level did another point extremely well:
        <span style="font-style: italic"
          >making the wait time interesting.</span
        >
        As usually seen in stealth levels, at some points players have to wait
        till enemies pass by or turn around and the waiting process can be
        tedious. Uncharted 4, however, makes NPCs talk and do things all the
        time, so that while players wait, they still stay at a high interest
        level and get useful information to understand the story.
      </div>
      <div class="main-design-title">
        <hr />
        article references
      </div>
      <div class="main-design-description">
        <a
          href="https://www.gamasutra.com/blogs/JobyeKarmaker/20160819/279550/A_Look_Back_Splinter_Cell_Blacklists_Benghazi_Level.php"
          class="link"
          target="_blank"
          >A Look Back: Splinter Cell Blacklist's Benghazi Level</a
        >
        by Jobye Karmaker<br />
        <a
          href="https://www.gamasutra.com/blogs/TommyThompson/20200603/364123/Bringing_Balance_to_Stealth_AI_in_Splinter_Cell_Blacklist.php"
          class="link"
          target="_blank"
          >Bringing Balance to Stealth AI in Splinter Cell: Blacklist</a
        >
        by Tommy Thompson<br />
        <a
          href="http://www.mikebarclay.co.uk/my-level-design-guidelines/"
          class="link"
          target="_blank"
          >Michael Barclay's Level Design Guidelines</a
        >
        by Michael Barclay
      </div>

      <div class="main-title" id="planning">Planning</div>
      <div class="main-design-title">
        <hr />
        theme
      </div>
      <div class="main-design-description">
        <div class="element-image">
          <img src="/media/levels/stealth-level/plan-1.png" />
        </div>
      </div>
      <div class="main-design-title">
        <hr />
        mechanics & metrics
      </div>
      <div class="main-design-description">
        <div class="element-image">
          <img src="/media/levels/stealth-level/plan-2.png" />
        </div>
      </div>
      <div class="main-design-title">
        <hr />
        layout reference
      </div>
      <div class="main-design-description">
        <div class="element-image">
          <img src="/media/levels/stealth-level/ref.jpg" />
        </div>
      </div>
      <div class="main-design-title" id="2d">
        <hr />
        2d layout
      </div>
      <div class="main-design-description">
        Prior to greyboxing, I used Adobe Illustrator to lay out the map in 2d.
        Some of the more important things I wanted to clarify in this 2d draft
        map were:<br />
        - to determine the general player routes;<br />
        - to double-confirm the goal of the level was emphasized;<br />
        - to provide metric reference for 3d meshes.<br />
        HOVER OVER THE IMAGE TO SEE THE FINAL 2D MAP.
        <div class="element-image">
          <img src="/media/levels/stealth-level/2d-2.png" class="img-top" />
          <img src="/media/levels/stealth-level/2d-1.png" />
        </div>
      </div>
      <div class="main-design-title">
        <hr />
        pacing
      </div>
      <div class="main-design-description">
        <div class="element-image">
          <img src="/media/levels/stealth-level/pace.png" />
        </div>
      </div>

      <div class="main-title">Process</div>
      <div class="main-design-title">
        <hr />
        methodology
      </div>
      <div class="main-design-description">
        <span class="element-title">macro -> micro</span><br />
        I like to look over my design from a macro perspective first, then zoom
        in on the detail. For example, when I was designing the 2d map, I always
        did the larger part first (floors, exterior walls, open areas), then
        split each part into smaller pieces (garage, living room, bedroom), then
        decide where to put the lighting as well as other decors like furniture.
      </div>
      <div class="main-design-title">
        <hr />
        3d modelling
      </div>
      <div class="main-design-description">
        Putting 2D maps into a 3D world is not simply replacing lines with
        cuboids. I needed to think how to convert the design faithfully and
        efficiently:<br />
        -Pay special attention to the height difference. Height difference would
        matter a lot in determining the visibility, and engaging enemies from a
        higher place is possible but is almost impossible from a lower place.<br />
        -Lines in 3D world have height and thickness. Wall is a key component in
        3D stealth games as it blocks the sight and gives space for players to
        hide and ambush.<br />
        <div class="element-image-flex">
          <img src="/media/levels/stealth-level/process-1.png" />
          <img src="/media/levels/stealth-level/process-2.png" />
          <img src="/media/levels/stealth-level/process-3.png" />
          <img src="/media/levels/stealth-level/process-4.png" />
        </div>
      </div>
      <div class="main-design-title">
        <hr />
        level design
      </div>
      <div class="main-design-description">
        <span class="element-title">patrol patterns</span>
        <div class="element-image">
          <img src="/media/levels/stealth-level/patrol-patterns.png" />
        </div>
        For most situations, I used the paths-sometimes-overlap setup to achieve
        a balance between challenge and playability.
        <br /><span class="element-title">mesh & color</span><br />
        Although the purpose of this level was not to make an environmental art
        portfolio, I built the level in medium detail, focusing on items that
        should attract more attention.
        <div class="element-image-flex">
          <img src="/media/levels/stealth-level/level-design-1.jpg" />
          <img src="/media/levels/stealth-level/level-design-2.png" />
        </div>
        <span class="element-title">lighting</span><br />
        Lights play a significant role in scenes at night. In my level, lighting
        was used mostly to indicate important locations and hence could direct
        the players. Lights can also affect the mood of a place: dim lighting
        suggests a potentially dangerous place while brighter lighting
        invigorates people to explore.<br /><br />
        Also to increase the visibility of AI sight, I used enemies' flashlights
        to indicate their sight range, which proved to be working well in
        playtests.
        <br /><span class="element-title">collectibles</span><br />
        One of my principles of using collectibles was not to attract players,
        but to reward those who had more curiosity and patience to explore every
        corner of the world, so they served more as a result of exploration.
      </div>
      <div class="main-design-title">
        <hr />
        level construction
      </div>
      <div class="main-design-description">
        I used Blueprint to for all game logics and parameter adjustments.
        <br /><span class="element-title">patrol system</span><br />
        <div class="element-image">
          <img src="/media/levels/stealth-level/patrol.png" />
        </div>
        <span class="element-title">enemy AI</span><br />
        I designed in a dynamic point of view. Enemies have vision cones and as
        they move, they are observing different places, and that's why I created
        a customizable and robust enemy AI system with a combination of AI
        perception system, behavior tree, and various Blueprints.
        <div class="element-image">
          <img src="/media/levels/stealth-level/ai.png" />
        </div>
        <span class="element-title">interaction system</span><br />
        Having a consistent system for handling interactions is essential for
        eliminating confusions. Players are given the capability of interacting
        with various objects including doors, collectibles and intels, for which
        only one key was needed.
        <br /><span class="element-title">dialogue system</span><br />
        The customizable dialogue system in the game also played as a guide that
        reminded the player of where they were and what they should be doing at
        each stage. Also dialogue was used as a feedback when the player got a
        collectible or required item.
      </div>
      <div class="main-design-title">
        <hr />
        playtesting
      </div>
      <div class="main-design-description">
        <div class="element-image">
          <img src="/media/levels/stealth-level/iteration-1.png" />
        </div>
        <span class="element-title">better directing</span><br />
        The first playtest feedback from a professional included making better
        use of the vantage point and adding more guide along the level so the
        player could better navigate in this dark map. I also noticed that enemy
        patrol routes were so simple that there was actually "god path" as
        mentioned earlier as a pitfall in stealth levels.<br /><br />
        To solve the problem, I moved start point to a higher place, added more
        lighting, re-designed enemies' patrol routes and also put into thr level
        more covers.
        <div class="element-image">
          <img src="/media/levels/stealth-level/iteration-2.png" />
        </div>
        <span class="element-title">no killing</span><br />
        After the second playtesting with one of my peer designers, I made the
        decision that killing enemies would no longer be allowed. The current
        framework still was far from a "real" enemy AI, and killing every enemy
        from the back was in fact a piece of cake and could easily spoil the
        fun. No killing would force players to plan stealth routes more
        carefully, and prevented any dangerous game-breaking actions.
        <br /><span class="element-title">safety and danger</span><br />
        There has to be some completely safe area (even it looks very close to
        enemy routes) and some area that enemies constantly check in (usually
        more important/knot location) so you cannot stay safe forever.
        <div class="element-image">
          <img src="/media/levels/stealth-level/area.jpg" />
        </div>
        <span class="element-title">avoid dead end</span><br />
        One big takeaway was to try not to design an empty room with only one
        way in/out, i.e. a dead end is not good. From the level design
        perspective, having an interconnected mansion also helped with the unity
        of the level.
        <div class="element-image">
          <img src="/media/levels/stealth-level/dead-end.png" />
        </div>
        <span class="element-title">multiple paths</span><br />
        I realized as a designer I should allow more interesting choices,
        because providing players with more than one route to the goal can make
        the game more interesting and cater to different skill levels. The
        self-explanatory efforts I made can be found in those dashed lines in
        the
        <a href="#2d" class="link">final 2d map.</a>
      </div>

      <div class="main-title">Post-Mortem</div>
      <div class="main-design-title">
        <hr />
        answers to the three questions
      </div>
      <div class="main-design-description">
        <span style="font-style: italic"
          >What a stealth level flow should be like?</span
        ><br />
        As described in pace section, a typical stealth level flow has some
        similarities as a story-driven level because story-wise, the three-act
        structure is still working behind as a fundamental. But being a stealth
        level specifically means something different.<br /><br />
        Depending on the openness of the level (linear, semi-open, open-ended),
        a stealth level may set different challenge points in different
        locations, thus switching the state of flow of
        exploring/planning/fighting as needed. Another big factor are covers
        that players can use in the map. A typical cover-to-cover experience may
        meet most people's skill level, and the difficulty can be totally
        different if designer removes one or two covers, making the action of
        moving towards the next cover more risking and therefore stimulating.<br /><br />
        <span style="font-style: italic"
          >How to use visual elements to guide the player?</span
        ><br />
        In this level in particular set at night, I found lighting the strongest
        guiding element over colors and shapes. Moving things such as enemies
        (and their flashlights) were also a big anchor point that players would
        keep away from.<br /><br />
        Of course, in a level abundant of sunshine, artificial lighting may not
        stand out that much as in a dark scene. Colors and shapes may contribute
        more to the player's interest. In addition, there's a lot more things
        that can guide the player: voiceover, HUD, marks on the map, etc. A good
        game makes use of many kinds of guiding but still offers a lot of
        freedom to the players.
        <br /><br /><span style="font-style: italic"
          >How to design a level with limited interior space?</span
        ><br />
        It's a question I was struggling to answer. The reality is always a
        great reference, but for a game to be functional and fun, we cannot just
        copy and paste the interior structure from a real mansion. I've already
        discussed some points such as dead ends and player path choices
      </div>
      <div class="main-design-title">
        <hr />
        what went well
      </div>
      <div class="main-design-description">
        <span class="element-title">atmosphere</span><br />
        Almost every playtester mentioned the intense atmosphere when playing,
        which quite fit my expectation. The word "atmosphere" itself, though, is
        a high-level game metric as in the MDA framework because it is the
        emotional consequence from many different inputs: level blockouts, art,
        even dialogue.
        <br /><span class="element-title">iterating</span><br />
        Iterating really helped me build a better level. Testing the level all
        by myself was dangerous: it's very easy to omit some more important
        things because of the subjective blindness, that I would consider many
        detail deserved and flawless. Asking a naive guest to try out the level
        was the best way to work around this. During weeks of iterations, I
        learned new insights on level design and was able to implement that new
        knowledge into the level I was making.
        <br /><span class="element-title">using the engine</span><br />
        Prior to this project, I spent about two weeks learning basic stuff
        about Unreal Engine 4, all of which eventually proved to be useful. The
        best part of all these systems was their compatibility - Unreal made it
        easy to transplant the systems to another game that needed them. I could
        reuse some systems such as AI Perception and Patrolling in my next
        possible project.
      </div>
      <div class="main-design-title">
        <hr />
        what could be improved
      </div>
      <div class="main-design-description">
        <span class="element-title">interior design</span><br />
        Admittedly, designing indoor level almost took me twice the time of
        outdoor part. I realized the composition became really different when I
        wanted the guide the players in a narrow area. And setting obstacles was
        also more difficult when designing the inside part.
        <br /><span class="element-title">details</span><br />
        Yes, I talked to myself and found that compared to enhancing the
        details, I was more willing to think about the macro - feeling, level
        flow, constructing logic... The level was definitely not perfect as I
        sensed many details were still missing - and some of them might have
        been a good guide or challenge.
      </div>
      <div class="main-design-title">
        <hr />
        special thanks
      </div>
      <div class="main-design-description">
        I want to thank the following people:<br />
        Ketul Majmudar, who answered many questions and gave valuable
        professional feedback.<br />
        Ziheng Xiao, who playtested my level and offered lots of useful
        feedback.
      </div>

      <div style="clear: both"></div>
    </div>
  </body>
</html>
